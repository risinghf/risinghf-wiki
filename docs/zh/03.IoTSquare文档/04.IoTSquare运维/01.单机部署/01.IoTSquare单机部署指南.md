---
permalink: /03/04/01/01/
title: IoTSquare单机部署指南
date: 2024-09-26 11:00:00
---


## 可扩展架构及灵活的部署方式
- iotsquare 提供免费在线测试账户，并开放完整调试权限与推送接口，所见即所得
- iotsquare 后端采用可扩展的微服务架构与容器技术，支持灵活的部署方式
  - 单机部署，最大程度压缩客户成本
  - 跨主机集群部署，可在不停机情况下，水平拓展系统负载能力
- 支持部署至国内外主要云服务商（用户需自行购买虚拟主机及相关服务）
  - 阿里云
  - 腾讯云
  - Amazon AWS
  - Google Cloud
- 支持部署至用户提供的独立机房

### 基于企业内网部署
在企业内网部署 IoTSquare 时,其所有组成部分都是完全独立隔离于企业内外网络之中的封闭系统。

---

![内网部署](https://risinghf-wiki.oss-cn-shenzhen.aliyuncs.com/upload/img/20240626180927.png)

---

### 基于云平台部署
基于云平台的部署方案中 IoTSquare 部署于客户云平台网络，通过云平台网络与客户应用服务器进行通信，节点及网关则通过互联网接入 IoTSquare。

---

![云平台部署](https://risinghf-wiki.oss-cn-shenzhen.aliyuncs.com/upload/img/20240626180952.png)

---


## 服务器配置要求

根据客户目标网络容量不同，服务器主机配置可以进行差异化选择，以节省成本。

利用云服务器部署时请不要选择用于开发测试环境的低配型虚拟机，如果选择云供应商，
网关部署在中国内的建议选择阿里云的云服务器，网关部署在国外的建议选择亚马逊AWS EC2。

|      网络规模      |      微型      |    小型     |    中型     |   大型    |
|:--------------:|:------------:|:---------:|:---------:|:-------:|
|      节点数量      |      1k      |    5k     |    10k    |  100K   |
| 每秒上行数据包总数(TPS) |      5       |    50     |    100    |   300   |
|      部署模式      |     单机部署     |   单机部署    |   单机部署    |  单机部署   |
|      CPU       |     1~2核     |    4核     |    8核     |   8核    |
|       内存       |     2GB      |    4G     |    8G     |   16G   |
|       硬盘       | 40GB SSD/HDD | 128GB SSD | 256GB SSD | 1TB SSD |
|       网络       |      百兆      |    千兆     |    千兆     |   千兆    |

### 操作系统要求
* 发行版: Ubuntu 20.04-24.04、CentOS 7.9/8/9
* Linux内核5.0以上

### 部署流程(瑞兴协助部署)

1. 客户根据所需购买的网络规模，根据推荐配置购置服务器或/云服务器/云虚拟机，需要安装CentOS7.9或更高版本、Ubuntu20.04或更高版本的操作系统
2. 客户提供服务器登录方式，包括：
   * SSH私钥、SSH密码、SSH服务器公网IP、SSH服务器公网端口
   * VPN登录软件及账号，如MotionPro Plus
   * 远程软件如向日葵的远程机器ID+访问密码
   * 远程软件如AnyDesk的远程机器ID+访问密码
   * 远程软件如ToDesk的远程机器ID+访问密码
   * 远程软件Windows远程IP、端口、账号密码
3. 瑞兴恒方的工程师根据客户所选配置进行IoTSquare安装部署，正常情况下1-3个工作日内完成
5. 部署完成后邮件通知客户进行测试并验收
6. 客户验收后通知瑞兴恒方，同时移除第2步的服务器访问权限。
7. 完成
   注意事项：
   客户应提供运维工程师或服务端开发人员联系方式，以备出现异常情况时及时沟通
