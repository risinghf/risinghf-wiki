---
title: 版本变更记录
date: 2023-02-02 15:15:55
permalink: /pages/8c7777/
---
# 版本变更记录
## 4.2.3
* 增加RHF2S208C网关支持

## 4.2.2
* 支持多播组使用ClassR
* 网关详情页可查看SIM卡相关信息

## 4.2.1
* 支持ClassR单播下行

## 4.0.1
* 支持LoRaWAN 1.0.4协议
* 增加RHF2S225、RHF2S798网关支持
* 实现RP002-1.0.4协议文档定义的CN470频率计划

## 3.4
* 新增deb安装包版本管理、升级任务管理、升级记录
* 新增bridge安装包版本管理、升级任务管理、升级记录
* 删除3.3版本的推送式的批量网关bridge升级功能
* 删除老版本针对单个网关的bridge/packetFowarder进行升级的功能
* 下行命令界面优化，将rssh、同步网络、系统信息、重启系统和bridge等功能整合到同一个页面，并添加SSH/Serial等的下行命令功能
* 新增下行命令历史记录
* 新增移动设备到不同应用功能(版本3.4.6)
* 新增au915频率计划,支持子网类型:16-23,24-31,32-39,40-47,48-55,56-63
* 新增：频率计划配置文件支持sx1302的模组(3.4.15)
* 新增: 相关详情增加packetForwarder上报状态信息显示(3.4.15)
* 新增: 更新频率计划和功率表，支持网关类型RHF2S209(3.4.17)
* 新增: 支持网关类型RHF2S209底噪扫描，命令查询操作(3.4.17)
* 新增: 网关上线/下线连接状态推送支持其他厂商(3.4.17)
* 新增: 中继设备管理支持AS923(3.4.20)
* 新增：opkg 版本管理/升级任务管理(3.4.21)
* 新增：网关详情-上报信息 支持网络/系统传感器数据上报新格式(网关get_network2/get_sensor2命令)，并新增了更多LTE相关字段(3.4.21)
* 新增：网关创建/修改/查询 添加地图相关字段，支持google地图和高德地图；由于地图是付费服务，私有化部署如需要支持该功能，需要提供第三方key(3.4.22)
* 新增：多播组支持修改pingSlotPeriod(3.4.22)
* 新增：频率计划配置文件更新,支持网关类型rhf2s025b/RHF2S209(3.4.23)
* 新增：支持网关类型rhf2s027m(3.4.24)


优化:
- 对网关模板字段Beacon和ClassB进行兼容判断
- classC/classB多播下行http api支持并发调度(版本3.4.9)
- classC/classB应用下行http api支持并发调度(版本3.4.13)
- iotsquare服务进程启动速度优化,不需要启动时预加载每个频率计划的缓存(3.4.22)
- 网关详情页优化；精简系统信息，只返回网关系统监控相关的信息(3.4.22)
- 并发性能优化(3.4.25)：
    * 批量写入应用层历史记录
    * 实时记录只推送订阅者
    * 二级缓存优化: 包括设备、应用、设备会话、网关频率计划
    * 缓存二进制替代JSON: 应用、设备基础信息
    * 设备的电池等信息，不在上行处理中更新 
    * 上行时时等待一段时间再处理下行的等待时间视情况缩短
重构：
* 网关详细页面数据拆分(3.4.15)
* 设备产品类型数据迁移;设备详细接口根据产品类型展示组件侧边栏(3.4.15)
* 服务拆分，不同服务各自进行lorawan处理和API调用处理(3.4.16)
* 网关推送字段重构，以符合驼峰无缩写的风格;涉及接口：网关心跳状态推送；网关上/下线推送(3.4.21)
* 添加存储类的单元测试(3.4.25)
* go-redis库从v8升级到v9(3.4.25)

Bug修复:
-  网关频率计划子网切换失败(发现版本:3.4,修复版本:3.4.17)
-  根据lorwan协议, ru864 beacon_datarategen修正为sf9(3.4.16)
-  网关心跳状态推送(MQTT链接方式)补充推送内容包含网关GPS状态/电池状态/系统负载信息(发现版本:3.4,修复版本:3.4.17)
-  设备协议层与网关层数据包批量写入问题；触发条件：当队列中有>=100个数据包待写入的时候并且主动触发写入的时候，就会少写最新的一条(发现版本3.4.17 修复版本:3.4.18)
-  OTAA设备使用自动子网模式入网失败(3.4.20)
-  多播下行时过滤掉不存在或已删除的网关(3.4.22)
-  删除设备时删除设备下的device_activation相关记录,设备重新注册不受65535次限制(3.4.22)
-  设备同步时间，同时多个网关链路上行时，DeviceTimeReq使用正确下行链路RxInfo的gps时间(3.4.23)
-  网关详情频率计划切换成功后，再修改原频率计划失败(3.4.23)

## 3.3
网关管理:
- 新增网关日志浏览功能、网关实时日志查询
- 新增网关Shell工具
- 新增网关增加备注项
- 新增网关列表增加连接方式展示
- 新增多个网关中精确查找并批量删除多个网关
- 新增一键批量导出网关所有的实时状态数据
- 新增批量修改网关配置
- 新增网关批量升级功能
- 网关状态信息展示
- 网关列表增加在线状态

平台管理：
- 新增SDK集中管理功能
- 新增平台管理侧边栏左下角增加前后端版本信息展示（含版本号、commit、打包时间）
- 新增子网切换功能
- PICO升级相关全局配置项

Bug修复:
- 修复 添加频率计划后，再添加网关时频率区域/子网类型的数据未更新的问题
- 修复pktfwd版本获取不到的bug
- 修复了网关系统状态电池电压的显示问题
- 修复全局搜索中多播组跳转异常的bug

优化:
- 对网关模板字段Beacon和ClassB进行兼容判断
- 优化中继固件升级任务进度状态
- 将表格的前端排序筛选改为服务端排序筛选
- 全局搜索网关，管理员账户下搜索结果返回用户名
- 所有列表页默认排序顺序改为按插入时间倒序排列
- 所有列表页过滤优化

### 3.3.50
* 新增底噪扫描功能(需bridge版本：>=3.3.22)
* 新增网关类型rhf2s208b
* 删除网关类型rhf2s308,条件：未在平台注册该网关类型
* 新增频率计划as923-1,as923-2,as923-3,as923-4

### 3.3.57
* 应用管理支持推送多个HTTP/HTTPS地址
* 应用管理批量导入设备支持自动子网模式
* 多播组应用支持推送多个HTTP/HTTPS地址
* 多播组支持自动子网模式
* 多播扩展文件传输支持自动路由子网
* 多播自动子网的模式下可以绑定相同频率下的设备
* 多播自动子网的模式下可以绑定相同频率下的网关

## 3.2
网关管理
- 增加pico网关
- 增加Ceacon
- 网关周期上报状态

设备管理
- 推送消息地址自定义Token
- 删除设备时同时删除多播组对应的设备
- 设备注册批量导入

Bug修复:
- 网关下行命令websocket中断
- 上传sdk文件校验支持的架构

优化:
- 优化生成频率计划
- 优化多播下行队列
