---
title: IoTSquare 平台使用手册
date: 2021-04-21 15:31:36
permalink: /02.manual/10.iotsquare/01.IoTSquare/
---
# IoTSquare 平台使用手册

::: warning
`IoTSquare` 平台是由瑞兴恒方开发的专用 `LoRa` 设备管理平台, 具有用户管理, 节点管理, 网关管理以及多播组管理等功能。

目前 `IoTSquare` 平台仅支持 `LoRaWAN1.0.2B` 版本的 LoRa 设备接入
:::

|  区域频率  | 信道编号 | 上行频率                                                     | 上行速率              | 下行频率                                                     | 下行速率  | ClassB 配置              | ClassC 相关                   |
| :--------: | :------: | ------------------------------------------------------------ | --------------------- | ------------------------------------------------------------ | --------- | ------------------------ | ----------------------------- |
| CN470 异频 |   0~7    | 470.3、470.5、470.7、470.9、471.1、471.3、471.5、471.7       | DR0~DR5               | 500.3、500.5、500.7、500.9、501.1、501.3、501.5、501.7       | DR0~DR5   | 信道自动协商，速率 DR2   | RX2频率    505.3，DR0，51字节 |
| CN470同频  |   0~7    | 471.5、471.7、471.9、472.1、472.3、472.5、472.7、472.9       | DR0~DR5               | 471.5、471.7、471.9、472.1、472.3、472.5、472.7、472.9       | DR0~DR5   | 信道固定473.0，速率DR3   | RX2频率471.3，DR3，115字节    |
|   EU433    |   0~7    | 433.175、433.375、433.575、433.775、433.975、434.175、434.375、434.575 | DR0~DR5               | 433.175、433.375、433.575、433.775、433.975、434.175、434.375、434.575 | DR0~DR5   | 信道固定434.665，速率DR3 | RX2频率434.665，DR0，51字节   |
|   EU868    |   0~7    | 868.1、868.3、868.5、867.1、867.3、867.5、867.7、867.9       | DR0~DR5               | 868.1、868.3、868.5、867.1、867.3、867.5、867.7、867.9       | DR0~DR5   | 信道固定869.525，速率DR3 | RX2频率869.525，DR0，51字节   |
|   AS923    |   0~7    | 923.2、923.4、923.6、923.8、924.0、924.2、924.4、924.6       | DR0~DR5               | 923.2、923.4、923.6、923.8、924.0、924.2、924.4、924.6       | DR0~DR5   | 信道固定923.4，速率DR3   | RX2频率923.2，DR2，51字节     |
|   US915    | 0~7、64  | 902.3、902.5、902.7、902.9、903.1、903.3、903.5、903.7、903.0 | 0~7为DR0~DR3，64为DR4 | 923.3、923.9、924.5、925.1、925.7、926.3、926.9、927.5       | DR10~DR13 | 信道自动协商，速率DR8    | RX2频率923.3，DR8，53字节     |
|   AU915    | 0~7、64  | 915.2、915.4、915.6、915.8、916.0、916.2、916.4、916.6、915.9 | 0~7为DR0~DR5，64为DR6 | 923.3、923.9、924.5、925.1、925.7、926.3、926.9、927.5       | DR8~DR13  | 信道自动协商，速率DR10   | RX2频率923.3，DR8，53字节     |
|   IN865    |   0~7    | 865.0625、865.4025、865.985、865.2625、865.6625、866.185、866.385、866.585 | DR0~DR5               | 865.0625、865.4025、865.985、865.2625、865.6625、866.185、866.385、866.585 | DR0~DR5   | 信道固定866.55，速率DR4  | RX2频率866.55，DR2，51字节    |
| CN470ALID  |   8~15   | 471.9、472.1、472.3、472.5、472.7、472.9、473.1、473.3       | DR0~DR5               | 485.5、485.7、485.9、486.1、486.3、486.5、486.7、486.9       | DR0~DR5   | 信道自动协商，速率DR2    | RX2频率486.9，DR0，51字节     |
| CN470ALIS  |   8~15   | 471.9、472.1、472.3、472.5、472.7、472.9、473.1、473.3       | DR0~DR5               | 471.9、472.1、472.3、472.5、472.7、472.9、473.1、473.3       | DR0~DR5   | 信道自动协商，速率DR2    | RX2频率473.3，DR0，51字节     |
|   ID920    |   0~7    | 921.3、921.5、921.7、921.9、922.1、922.3、922.5、922.7       | DR0~DR5               | 921.3、921.5、921.7、921.9、922.1、922.3、922.5、922.7       | DR0~DR5   | 信道固定921.5，速率DR3   | RX2频率921.3，DR2，51字节     |

## 1. 登录

目前, 用户初次使用 `IoTSquare` 平台时, 需要向瑞兴恒方平台管理人员申请账号, 获取账号后, 访问 [IoTSquare](https://cloud.iotsquare.xyz/login) 站点, 即可跳转至登录界面。

---

![登录界面](登录界面.png)

---

使用已分配账号和密码, 即可登录至 `IoTSquare` 平台。

默认跳转至平台主页面, 主页面顶部有应用管理, 多播组管理以及网关管理等功能按钮, 主页面右上角具有中英文切换以及用户详情等功能按钮, 主页面会统计当前用户下应用数量, 设备数量, 网关数量, 在线网关数量, 离线网关数量等信息.

---

![主页面](主页面.png)

---

## 2. 应用管理

### 2.1 添加应用

点击页面顶部应用管理按钮, 服务器将跳转至应用管理界面, 默认会显示当前用户下各应用基本信息, 包括 HTTP 推送接口, 扩展协议支持, 应用下设备数量等等.

---

![应用管理](应用管理.png)

---

点击添加应用按钮, 即可弹出如下应用注册界面, 应用名称字段推荐使用项目名; 对于扩展协议字段, 如果用户使用的是标准的 `LoRa` 设备, 则选择 `LoRaWAN` 标准应用, 如果用户使用的是瑞兴恒方开发的 `RHF3M485` 等设备, 则选择 `LADTP-LoRaWAN 应用层数据分组包协议协议`; 对于 `HTTP 推送接口`, 如果用户需要将此应用下设备数据推送至自己的 `CS 服务器`, 则需要将推送 `URL` 填入此字段, `IoTSquare` 会根据推送数据类型( `join` 或 `uplink` ), 自动在推送 `URL` 后面加上 `/join` 或 `/uplink`; 用户也可以在推送请求头部中, 填写`Token`字段, 保证数据安全传输, 而`MQTT`权限开关一旦使能, 此后此应用下设备数据都将通过`MQTT接口推送`, 不再使用`HTTP接口`推送数据(若用户不需要使用`MQTT接口推送数据`, 请不要使能此选项).

---

![添加应用](添加应用.png)

---

### 2.2 应用详情

获取应用详情信息, 需要点击相关应用名, 跳转到设备列表页面, 然后点击左侧应用详情按钮, 即可跳转至应用详情页面.

---

![应用详情](应用详情.png)

---

### 2.3 更新应用

点击应用详情页的修改图标(铅笔状图标), 选择用户需要更新的应用配置, 点击确认, 即可更新应用配置.

---

![更改应用](更改应用.png)

---

### 2.4 删除应用

勾选应用名称前的勾选框(可勾选多个), 点击删除应用按钮, 即可删除单个或多个应用.

---

![删除应用](删除应用.png)

---

## 3. 设备管理

点击添加的应用名, 即可跳转到设备列表页面, 目前, IoTSquare 物联网平台是根据应用来管理终端设备, 设备列表主要展示的信息有设备名称, 设备全球唯一标识符(DevEUI), 设备地址(DevAddr), 频率区域, 上行帧计数器以及端口号.

---

![设备列表](设备列表.png)

---

### 3.1 添加 ABP 设备

点击添加设备按钮, 选择添加 ABP 设备, 根据节点信息填入相应的设备全球唯一标识符, 设备地址, 应用会话密钥以及网络会话密钥等信息, 并选择节点的频率, 子网类型和设备类型, 点击确认添加, 即可创建 ABP 设备.

---

![ABP 设备](ABP设备.png)

---

### 3.2 添加 OTAA 设备

点击添加设备按钮, 选择添加 OTAA 设备, 根据节点信息填入相应的设备全球唯一标识符, 应用全球唯一标识符, 应用和会话密钥, 并选择节点的频率, 子网类型和设备类型, 点击确认添加, 即可创建 OTAA 设备.

---

![OTAA 设备](OTAA设备.png)

---

### 3.3 批量添加设备

点击添加按钮, 选择批量添加, 即可跳转至批量添加页面, 用户可以点击导入 ABP 设备和导入 OTAA 设备按钮, 去下载相应 ABP 模板和 OTAA 模板, 编辑好模板文件后, 可以点击以下选择模板按钮, 选择编辑好的模板文件, 即可批量导入 ABP 设备或 OTAA 设备.

---

![批量添加](批量添加.png)

---

### 3.4 删除设备

勾选设备名称前勾选框(可勾选多个), 点击删除设备按钮, 即可删除单个或多个设备.

---

![删除设备](删除设备.png)

---

### 3.5 设备数据导出

勾选设备名称前单个或多个勾选框, 点击应用数据导出按钮, 即可导出某个时间段内, 设备上行的应用层数据, 导出文件以 Excel 形式保存.

---

![数据导出](数据导出.png)

---

## 4. 设备信息

目前 IoTSquare 平台, 设备管理提供了应用层实时数据, 协议层实时数据, 应用层历史消息, 协议层历史消息以及下行接口等功能.

### 4.1 设备详情

点击设备列表下设备名, 即可进入设备详情页面, 此页面主要显示添加设备时用户填入的相关信息, 平台暂不提供设备配置更改功能.

---

![设备详情](设备详情.png)

---

### 4.2 应用层实时数据

点击实时消息下拉框中应用层实时数据按钮, 即可进入应用层实时数据展示界面, 当设备上行数据时, 应用层数据会实时展示在此界面, 此界面右侧还带有开启/暂停, 清空数据等功能按钮, 方便用户进行调试.

---

![应用层实时数据](应用层实时数据.png)

---

用户还可以点击单条上行数据, 即可得到更详细的应用层数据展示, 数据以 json 文本格式展示给用户.

---

![应用层实时详细信息](应用层实时详细信息.png)

---

### 4.3 协议层实时数据

点击实时消息下拉框中协议层实时数据按钮, 即可进入协议层实时数据展示界面, 当设备上行数据时, 会实时展示在此界面, 此界面右侧有开启/暂停, 清空数据等功能按钮, 方便用户进行调试.

---

![协议层实时数据](协议层实时数据.png)

---

用户还可以点击单条上行数据, 即可得到更详细的协议层数据展示, 数据以 json 文本格式展示给用户.

---

![协议层实时详细数据](协议层实时详细数据.png)

---

### 4.4 数据下行窗口

用户可以点击数据下行窗口, 进入数据下行列表页面, 此页面可以根据时间段, 来查看用户下行消息.

---

![下行列表](下行列表.png)

---

用户可以点击数据下行界面右上角下行窗口按钮, 在弹出的下行窗口填入相关下行信息, 点击确认发送, 即可将下行消息入下行队列, 下行帧端口号推荐填 8(范围 1~200), 下行数据有 text 和 hex 两种格式.

---

![下行窗口](下行窗口.png)

---

### 4.5 应用层历史消息

点击历史消息下拉框中应用层历史消息按钮, 即可进入应用层历史消息页面, 此页面主要显示设备应用层上行数据.

---

![应用层历史数据](应用层历史数据.png)

---

### 4.6 协议层历史消息

点击历史消息下拉框中协议层历史消息按钮, 即可进入协议层历史消息页面, 此页面主要显示设备协议层上下行数据.

---

![协议层历史数据](协议层历史数据.png)

---

## 5. 网关管理

点击网关管理按钮, 即可跳转至网关列表页面, 此页面下, 有添加网关, 删除网关, 网关数据导出等功能.

---

![网关列表](网关列表.png)

---

### 5.1 添加网关

点击添加网关按钮, 在弹出的网关注册框中, 依次填入网关名称, 网关 ID, 网关频率, 网关类型, 是否支持 ClassB 以及 Pktfwd 等信息, 即可添加网关.

---

![添加网关](添加网关.png)

---

### 5.2 删除网关

勾选网关名称前面的勾选框(可勾选多个), 点击删除网关按钮, 即可删除网关.

---

![删除网关](删除网关.png)

---

### 5.3 网关数据导出

勾选网关名称前单个或多个勾选框, 点击网关数据导出按钮, 即可导出某个时间段内, 设备上行的网关层数据, 导出文件以 Excel 形式保存.

---

![网关数据导出](网关数据导出.png)

---

## 6. 网关信息

### 6.1 网关详情

点击网关名称, 即可跳转至网关详情页面, 此页面主要展示的是网关信息, 网关网络状态, 网关系统状态等.

---

![网关详情](网关详情.png)

---

### 6.2 更新网关配置

点击修改网关配置图标(铅笔状图标), 即可修改网关配置, 暂时只支持修改网关名称, 网关类型, 是否支持 ClassB 以及 Pktfwd 等功能.

---

![更改网关](更改网关.png)

---

### 6.3 网关实时消息

点击网关实时消息按钮, 即可进入网关实时数据展示界面, 当设备上下行数据时, 网关数据会实时展示在此界面, 此界面右侧还带有开启/暂停, 清空数据等功能按钮, 方便用户进行调试.

---

![网关实时数据](网关实时数据.png)

---

### 6.4 网关历史消息

点击网关历史消息按钮, 即可进入网关历史消息页面, 此页面主要展示网关协议层上下行数据.

---

![网关历史消息](网关历史消息.png)

---

## 7. 多播管理

点击多播组管理按钮, 即可跳转至多播组列表, 用户能够添加和删除多播组, 目前多播功能仅支持Class C设备.

---

![多播列表](多播列表.png)

---

### 7.1 添加多播组

点击添加多播组按钮, 即可弹出添加多播组的页面, 用户需要填写多播组全球唯一标识符, 频率区域, 多播地址, 多播应用会话密钥和网络会话密钥等信息, 然后点击确认, 即可添加多播组.

---

![添加多播组](添加多播组.png)

---

### 7.2 删除多播组

勾选多播组名称前面的勾选框(可勾选多个), 点击删除多播组按钮, 即可删除多播组.

---

![删除多播组](删除多播组.png)

---

### 7.3 绑定设备

点击绑定设备按钮, 平台会自动搜索可绑定的设备, 用户可以在弹出的绑定设备页面, 手动搜索要绑定的设备, 目前平台多播组功能只支持 Class C 设备.

---

![绑定设备](绑定设备.png)

---

### 7.4 解绑设备

勾选设备名称前面的勾选框(可勾选多个), 点击解绑设备按钮, 即可解绑多播组设备.

---

![解绑设备](解绑设备.png)

---

### 7.5 多播组下行

点击多播组下行管理按钮, 即可跳转至多播组下行窗口, 用户可以点击发送多播下行按钮, 来给多个节点下行数据.

---

![多播组下行](多播组下行.png)

---

### 7.6 更新多播组配置

点击多播组详情按钮, 用户可以查看多播组配置信息, 点击配置按钮(铅笔状图标), 用户可以更新多播组配置.

---

![多播组配置](多播组配置.png)

---
